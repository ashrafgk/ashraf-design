---
import { ViewTransitions } from 'astro:transitions';

import { Image } from 'astro:assets';
import ExplorerHero from '../assets/work-explorer--cover-2.png';
import DimensionsHero from '../assets/work-dimensions-2--cover.png';
import PmAssistHero from '../assets/work-pm-assistant--cover.png';
import GlobalSearchHero from '../assets/work-global-search--cover.png';
import Homepage2024Hero from '../assets/klipfolio-homepage-2024-cover.png';
import Homepage2023Hero from '../assets/klipfolio-homepage-2023-cover.png';

interface Props {
	title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content="Astro description" />
		<meta name="viewport" content="width=device-width" />
		<meta name="robots" content="noindex, nofollow" />
		<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
		<link rel="manifest" href="/site.webmanifest">
		<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
		<meta name="msapplication-TileColor" content="#da532c">
		<meta name="theme-color" content="#ffffff">
		<link rel="stylesheet" href="../reset.css">
		<meta name="generator" content={Astro.generator} />
		<ViewTransitions/>
		<title>{title}</title>
		<!-- Google Tag Manager -->
		<script is:inline>
			window.dataLayer = window.dataLayer || [];
			function gtag() {
			  dataLayer.push(arguments);
			}
		  </script>
		<script is:inline>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
		new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
		j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
		'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
		})(window,document,'script','dataLayer','GTM-P8M6PG');</script>
		<!-- End Google Tag Manager -->
	</head>
	<body>
		<!-- Google Tag Manager (noscript) -->
		<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P8M6PG"
		height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<!-- End Google Tag Manager (noscript) -->
		<script is:inline src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
		<script is:inline src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script> 
		<script is:inline src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js" async=""></script> 
		<slot />
	</body>
</html>
<style is:global>
	
	body {
		margin: 0;
	}
	@view-transition {
  		navigation: auto;
	}
	@keyframes scale-up {
		from {
			scale: 0;
		}
	}
	@keyframes scale-down {
		to {
			scale: 0;
		}
	}
	@keyframes fade-in {
		from {
			opacity: 0;
		}
	}
	@keyframes fade-out {
		to {
			opacity: 0;
		}
	}
	@keyframes dropping {
		0% {
			filter: blur(3px);
			visibility: hidden;
		}
		100% {
			filter: blur(0px);
			visibility: visible;
		}
	}
	.reveal {
		animation: dropping forwards ease-in-out;
		animation-timeline: scroll(block nearest);
		animation-range: entry exit-crossing 50%;
	}
	@keyframes shadow {
		to {
			border-bottom: 2px solid #555;
		}
	}
	@keyframes reveal {
		from {
			opacity: 0;
			filter: blur(10px);
		}
		to {
			opacity: 1;
			filter: blur(0px);
		}
	}
	@keyframes reveal-vertical {
		from {
			opacity: 1;
			clip-path: inset(0% 0% 100% 0%) ;
		}
		to {
			opacity: 1;
			clip-path: inset(0% 0% 0% 0%);
		}
	}
	@keyframes text-reveal {
		from {
			opacity: 0;
			filter:blur(4px)
		}
		to {
			opacity: 1;
			filter:blur(0px)
		}
	}

	html {
		font-family: "Inter", sans-serif;
		font-optical-sizing: auto;
		font-style: normal;
		color: white;
	}

	.text-bold {
		font-weight: bold;
	}

	.text-center {
		text-align: center;
	}

	.gap-south-sm {
		margin-bottom: 1.5rem;
	}

	.gap-south-md {
		margin-bottom: 2.5rem;
	}

	.gap-south-lg {
		margin-bottom: 4rem;
	}

	.gap-south-xl {
		margin-bottom: 8rem;
	}

	a {
		color: white;
		text-decoration: none;
	}

	img {
		max-width: 100%;
		margin: auto;
		height: auto;
	}

	ul li {
		font-size: 1.25rem;
		margin-bottom: 1rem;
	}

	ul li:last-child {
		margin-bottom: 0;
	}

	
	main {
		background: linear-gradient(#e1e1e1, #f1f1f1 20%);
	}

	#case-study {
		padding: 2rem 0;
		img {
			border: 1px solid #ccc;
		}
		h1 {
			font-size: clamp(2.625rem, 1.6429rem + 3.1429vw, 4rem);
			font-weight: bold;
			line-height: 125%;
			color: #333;
		}

		h2 {
			font-size: 32px;
			font-weight: bold;
			line-height: 125%;
			color: #333;
		}

		h3 {
			font-size: 28px;
			font-weight: bold;
			line-height: 125%;
			color: #333;
		}

		h4 {
			font-size: 24px;
			font-weight: bold;
			line-height: 125%;
			color: #333;
		}


		p {
			font-size: 20px;
			line-height: 150%;
			color: #555;
		}
		

		ul {
			list-style: disc;
			margin-left: 1rem;
			li {
				font-size: 20px;
				margin-bottom: 1rem;
				line-height: 150%;
				color: #555;
			}

		}

		p:has(+ p) {
			margin-bottom: 1rem;
		}

		.table {
			p {
				font-size: 14px;
				color: #555;
			}
		}
		
		
		
		
		
		span.number {
			position: absolute;
			z-index: 0;
			font-size: 6rem;
			left: -24px;
			top: -50px;
			background: -webkit-linear-gradient(#cbcbcb 0%, transparent 80%);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			display: flex;
			font-weight: bold;
			width: 60px;
			height: 130px;
			align-items: center;
		}
	}

	.case-study--header {
		padding: 6rem 0;
		img {
			border-radius: 2rem;
		}
	}
	@media only screen and (max-width: 992px) { 
		.case-study--header {
			padding: 6rem 0;
			img {
				border-radius: 1rem;
			}
	}
	}

	.case-study--body {
		display: flex;
		flex-direction: column;
		gap: 3rem;
		margin: auto;
		color: #555;
		justify-content: center;
		img {
			margin: 0rem auto 1rem;
			border-radius: 2rem;
			overflow: hidden;
		
			/* Create View Timeline */
			view-timeline-name: --revealing-image;
			view-timeline-axis: block;

			/* Attach animation, linked to the  View Timeline */
			animation: linear reveal both;
			animation-timeline: --revealing-image;

			/* Tweak range when effect should run*/
			animation-range: entry 25% cover 40%;
			
			
		
		}
		img.vertical-reveal {
			margin: 0rem auto 1rem;
			border-radius: 2rem;
			overflow: hidden;
		
			/* Create View Timeline */
			view-timeline-name: --vertical-revealing-image;
			view-timeline-axis: block;

			/* Attach animation, linked to the  View Timeline */
			animation: linear reveal-vertical both;
			animation-timeline: --vertical-revealing-image;

			/* Tweak range when effect should run*/
			animation-range: cover 0% cover 20%;
		}
	}

	.case-study--background {
		display: grid;
		max-width: 800px;
		margin: auto;
		grid-template-columns: 200px auto;
		gap: 60px;

		.case-study--background-info {
			display: grid;
			grid-template-columns: repeat(3, 1fr);
			gap: 60px;
		}

		.case-study--background-info-container {
			display: grid;
			gap: 60px;
		}
	}

	.case-study--full-container {
		width: 100%;
		margin: auto;
		figure, image { width: 90vw; max-width: 100%; text-align: center; margin: auto}
	}

	.case-study--large-container {
		max-width: 1200px;
		width: 100%;
		margin: auto;
	}

	.case-study--text-container {
		max-width: 800px;
		width: 100%;
		margin: auto;
	}

	figure {
		width: 100%;
		img:has(+ figcaption) {
			margin-bottom: 0.5rem;
		}
		

		figcaption {
			text-align: center;
			font-size: 14px;
			color: #ccc;
		}
	}

	.video-container {
		padding: 6rem 3rem;
    	background: #cbcbcb;
		border-radius: 2rem;
		overflow: hidden;
		margin-bottom: 1rem;
		background-color: #e2e2e2;
		box-sizing: border-box;
		border: 1px solid #ccc;
		video {
			box-shadow: 0px 128px 64px 0px rgba(0, 0, 0, 0.16), 0px 16px 16px 0px rgba(0, 0, 0, 0.16), 0px 96px 96px 0px rgba(0, 0, 0, 0.16), 0px 36px 36px 0px rgba(0, 0, 0, 0.16);
			width: 1200px; 
			max-width: 100%; 
			margin: auto; 
			border-radius: 1rem; 
			overflow: hidden;
			display: block;
		}
	}

	.figure.video {
		border: 1px solid #ccc;
	}

	.table {
		display: grid;
		max-width: 800px;
		margin: 2rem 0;
		
	}

	.table-row{
		display: grid;
		grid-template-columns: 1fr 1fr;
		row-gap: 1rem;
		width: 100%;
		border-bottom: 1px solid #555;
		padding: 1.5rem 0 1rem;
	}
	.table-header {
		position: sticky;
		display: grid;
		grid-template-columns: 1fr 1fr;
		row-gap: 1rem;
		padding: 1.5rem 0 0rem;
		top: 0;
		background: #f1f1f1;
		border-bottom: 2px solid #555;
	}

	@keyframes bump {
    0% {
      opacity: 0;
      transform: scale(1) translateY(-200px);
    }
   
    100% {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
  }

  @media only screen and (max-width: 992px) {
	#case-study {
		padding: 2rem;
	}
	.case-study--header {
		.case-study--full-container {
			figure, image {
				max-width: 100% ;
				width: auto;
			}
		}
	}
	.case-study--body {
		img {
			border-radius: 1rem;
		}
	}
	.case-study--background {
		display: grid;
		max-width: 800px;
		width: 100%;
		margin: auto;
		grid-template-columns: 100%;
		gap: 30px;

		.case-study--background-info {
			display: grid;
			grid-template-columns: 100%;
			gap: 30px;
		}

		.case-study--background-info-container {
			display: grid;
			gap: 30px;
		}
	}
	.case-study--full-container {
		figure {
			width: auto;
		}
	}

	.video-container {
		padding: 1.5rem;
		border-radius: 1rem;
		overflow: hidden;
		margin-bottom: 1rem;
		video {
			border-radius: 0.5rem;
			box-shadow: 0px 128px 64px 0px rgba(0, 0, 0, 0.16), 0px 16px 16px 0px rgba(0, 0, 0, 0.16), 0px 96px 96px 0px rgba(0, 0, 0, 0.16), 0px 36px 36px 0px rgba(0, 0, 0, 0.16);
		}
	}
}
</style>
